<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Firefox+burpsuite抓取https的正确姿势 · 信鑫-King's Blog</title><meta name="description" content="Firefox+burpsuite抓取https的正确姿势 - Kylin King"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://www.ycjcl.cc/atom.xml" title="信鑫-King's Blog"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/ycjcl868" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/ycjcl868" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Firefox+burpsuite抓取https的正确姿势</h1><div class="post-info">Jul 8, 2018</div><div class="post-content"><blockquote>
<p>坑了好久，抓取成功与否，与 java版本、证书、firefox配置息息相关。</p>
</blockquote>
<h2 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h2><ul>
<li>java 1.7以下，我用的 1.6<br>一定要1.7以下，如果1.7 firefox 以上会提示 <code>The client failed to negotiate an SSL connection to no cipher suites in common</code></li>
</ul>
<h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h4 id="配置代理"><a href="#配置代理" class="headerlink" title="配置代理"></a>配置代理</h4><p>burpsuite 则在 Proxy -&gt; Options 里，设置端口<br>firefox 里在 Preferences -&gt; Advanced -&gt; Network 配置与 burpsuite 相同的ip和端口，记住勾选上应用到所有协议。<img src="https://cdn.yuque.com/yuque/2018/png/85694/1523430166991-42b8dab7-8eb2-45b3-899a-6cb0caacc94d.png" alt="image.png | left | 720x376"></p>
<h4 id="安装证书"><a href="#安装证书" class="headerlink" title="安装证书"></a>安装证书</h4><p>地址栏访问：<a href="http://burp" target="_blank" rel="noopener">http://burp</a>  点击 CA Certificate 下载证书。<img src="https://cdn.yuque.com/yuque/2018/png/85694/1523430098907-a8971389-83bf-4069-9b1e-006269351270.png" alt="image.png | left | 748x321"></p>
<p>然后在 Preferences -&gt; Advanced -&gt; Certificates -&gt; Security Devices -&gt; Authorities ，导入下载的证书，勾选信任。<br><img src="https://cdn.yuque.com/yuque/2018/png/85694/1523430693539-8c09d026-9a77-4105-ab1c-bd01d846f4eb.png" alt="image.png | left | 554x255"></p>
<h4 id="配置firefox"><a href="#配置firefox" class="headerlink" title="配置firefox"></a>配置firefox</h4><p>地址栏访问 <code>about:config</code> ，找到 <code>security.ssl3.dhe_rsa_aes_128_sha</code> 和 <code>security.ssl3.dhe_rsa_aes_256_sha</code> 将两个设置成 <code>false</code> <img src="https://cdn.yuque.com/yuque/2018/png/85694/1523429980123-2a1d55a5-e65a-4db5-a8c4-92ff47388d71.png" alt="image.png | left | 748x378"></p>
<h2 id="成功抓取"><a href="#成功抓取" class="headerlink" title="成功抓取"></a>成功抓取</h2><p><img src="https://cdn.yuque.com/yuque/2018/png/85694/1523430506112-efa43095-96f8-4d77-ba5a-22561dcb6fd2.png" alt="image.png | left | 680x456"></p>
<blockquote>
<p>之前踩了两个坑，一个是 java 版本过高1.8，导致抓取不了，google好久未能解决。另一个是 firefox ssl 配置不对，也抓取不了。</p>
</blockquote>
</div></article></div></main><footer><div class="paginator"><a href="/2018/07/08/2017年春招实习面试记录/" class="prev">上一篇</a><a href="/2018/07/08/第三届上海市大学生网络安全大赛WriteUp/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2018 <a href="https://www.ycjcl.cc">Kylin King</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>